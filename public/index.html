<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/main.css">
	</head>
	<body>
	<h1>Tanks</h2>
	</body>
	
	<div id="splash"></div>
	<div id="container">
		<div id="canvas"></div>
	</div>
	<script src="http://localhost:8000/socket.io/socket.io.js"></script>
	<script src="js/jquery-1.11.3.min.js"></script>
	
	<script>
		$('#container').hide();
		var translateX = -450;
		var translateY = -250;
		$('#canvas').animate({left: translateX, top: translateY});
	</script>
	<script>
		socket = io();
		console.log(socket);
		divs = [];

		socket.on('css', function (data) {
			for (var i = 0; i < data.length; i++) {
				var css = data[i];
				var div = divs[i];
				if (!div) {
					$('#canvas').append('<div class="objects" id="id' + i + '"></div>')
					div = divs[i] = $('#id' + i);
				}

				div.css(css);
			}
			
		});

		socket.on('player_signup', function (data) {
			if (data.no_of_players < 2) {
				players = (2-data.no_of_players);
				$('#splash').append('<h3>We need ' + players + ' more players</h3>');
			} else {
				$('#splash').hide();
				$('#container').show();
			}
		});
	</script>
	<script src="js/index.js"></script>
</html>
